THUAT TOAN: Tinh trang thai sau n buoc (Markov Chain State Evolution)
DO PHUC TAP: O(n * k^2) voi k la so trang thai, n la so buoc

PSEUDO CODE:
function computeStateAfterNSteps(p0, P, n):
    // p0: vector xac suat ban dau (1 x k)
    // P: ma tran chuyen trang thai (k x k)
    // n: so buoc thoi gian
    // Tra ve: p_n = p0 * P^n
    
    p = p0
    
    for i = 1 to n:
        p = p * P
    
    return p


THUAT TOAN: Tinh phan phoi dung (Steady State Distribution)
DO PHUC TAP: O(k^2 * iterations)

PSEUDO CODE:
function computeSteadyState(P, epsilon, maxIter):
    // P: ma tran chuyen trang thai (k x k)
    // Tra ve: pi sao cho pi * P = pi
    
    k = size(P)
    pi = [1/k, 1/k, ..., 1/k]  // Bat dau tu phan phoi deu
    
    for iter = 0 to maxIter:
        pi_new = pi * P
        
        // Kiem tra hoi tu
        if ||pi_new - pi|| < epsilon:
            return pi_new
        
        pi = pi_new
    
    return pi


THUAT TOAN: Kiem tra ma tran stochastic
DO PHUC TAP: O(k^2)

PSEUDO CODE:
function isStochasticMatrix(P, epsilon):
    // Kiem tra:
    // 1. Tat ca phan tu >= 0
    // 2. Tong moi hang = 1
    
    k = size(P)
    
    for i = 0 to k-1:
        rowSum = 0
        for j = 0 to k-1:
            if P[i][j] < 0:
                return false
            rowSum = rowSum + P[i][j]
        
        if |rowSum - 1.0| > epsilon:
            return false
    
    return true

MÔ TẢ BẰNG NGÔN NGỮ TỰ NHIÊN:

Thuật toán: Chuỗi Markov

Khái niệm:
• Trạng thái: S = {s₁, s₂, ..., sₖ}
• Ma trận chuyển P: P[i][j] = P(sⱼ | sᵢ)
• Phân phối π: π[i] = P(ở trạng thái sᵢ)
• Tính chất: Tương lai chỉ phụ thuộc hiện tại

---

Thuật toán 1: Tính phân phối sau n bước

Input:
• Phân phối ban đầu π₀
• Ma trận chuyển P (k×k)
• Số bước n

Lặp:
• Với i từ 1 đến n:
  - π = π × P

• Trả về π

Công thức: πₙ = π₀ × Pⁿ

---

Thuật toán 2: Phân phối dừng (Stationary Distribution)

Input:
• Ma trận chuyển P (k×k)
• Ngưỡng ε > 0

Khởi tạo:
• π = [1/k, 1/k, ..., 1/k]

Lặp:
1. π_new = π × P

2. Nếu ||π_new - π|| < ε: dừng

3. π = π_new

Định nghĩa: π × P = π (không đổi qua thời gian)

---

Thuật toán 3: Kiểm tra ma trận stochastic

Input:
• Ma trận P (k×k)

Kiểm tra:
1. Với i từ 0 đến k-1:
   - Với j từ 0 đến k-1:
     * Nếu P[i][j] < 0: trả về false
   
   - rowSum = Σⱼ P[i][j]
   - Nếu |rowSum - 1.0| > ε: trả về false

2. Trả về true

Điều kiện:
• Mọi phần tử ≥ 0
• Mỗi hàng tổng = 1
   - Mọi trạng thái ban đầu đều hội tụ về π

2. Absorbing (hấp thụ):
   - Có trạng thái không thoát được
   - Ví dụ: Game over trong game
   - P[i][i] = 1 cho trạng thái hấp thụ

3. Periodic (tuần hoàn):
   - Quay vòng với chu kỳ cố định
   - Ví dụ: Đi vòng quanh hình vuông

Ứng dụng thực tế:

1. PageRank (Google):
   - Trang web = trạng thái
   - Link = chuyển trạng thái
   - Phân phối dừng = độ quan trọng

2. Dự đoán văn bản:
   - Từ = trạng thái
   - P[i][j] = xác suất từ j sau từ i
   - Sinh câu tự động

3. Thời tiết:
   - Dự đoán thời tiết ngày mai
   - Phân tích xu hướng dài hạn

4. Tài chính:
   - Mô hình giá cổ phiếu
   - Credit rating transitions

5. Sinh học:
   - Di truyền học: Hardy-Weinberg
   - Động lực học quần thể

6. Lý thuyết hàng đợi:
   - Số khách trong hệ thống
   - Thời gian chờ trung bình

Mở rộng:
- Hidden Markov Model (HMM): Trạng thái ẩn, chỉ quan sát được output
- Continuous-time Markov Chain: Thời gian liên tục
- Markov Decision Process (MDP): Có hành động và phần thưởng


// Tinh chat chuoi Markov:
//
// 1. Ma tran chuyen trang thai P:
//    - P[i][j] = xac suat chuyen tu trang thai i sang j
//    - Moi hang tong = 1 (stochastic matrix)
//
// 2. Trang thai sau n buoc:
//    p_n = p_0 * P^n
//
// 3. Phan phoi dung (steady state):
//    pi = lim_{n->inf} p_n
//    Thoa man: pi * P = pi
//    Co nghia la xac suat khong thay doi sau khi chuyen trang thai
//
// 4. Do phuc tap tinh P^n:
//    - Naive: O(n * k^3) neu tinh P^2, P^3, ..., P^n
//    - Toi uu: O(k^3 * log(n)) neu dung luy thua nhi phan
